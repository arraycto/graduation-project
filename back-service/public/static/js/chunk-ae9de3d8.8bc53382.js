(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae9de3d8"],{"2caf":function(t,e,n){},4770:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addQuestion-box"},[n("question-editor")],1)},i=[],o=n("4ecc"),r={name:"AddQuestion",components:{questionEditor:o["a"]},data:function(){return{}},created:function(){},methods:{}},u=r,c=n("e90a"),a=Object(c["a"])(u,s,i,!1,null,"0e817833",null);e["default"]=a.exports},"4ecc":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addQuestion-box"},[n("el-form",{ref:"form",attrs:{model:t.question,rules:t.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"题型"}},[n("el-select",{attrs:{placeholder:"请选择",disabled:!!t.questionInfo.type},on:{change:t.changeType},model:{value:t.question.type,callback:function(e){t.$set(t.question,"type",e)},expression:"question.type"}},t._l(t.questionTypes,(function(t){return n("el-option",{key:t.type,attrs:{label:t.name,value:t.type}})})),1)],1),t._v(" "),t.questionInfo.type?t._e():n("div",[n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{attrs:{placeholder:"请求输入此题目的标题，用于在收藏列表中展示"},model:{value:t.question.title,callback:function(e){t.$set(t.question,"title",e)},expression:"question.title"}})],1)],1),t._v(" "),t.question.content?n("div",t._l(t.question.content,(function(e,s){return n("el-form-item",{key:s,attrs:{label:t.fieldTip[s],prop:"content."+s}},[-1!==t.useEditor.indexOf(s)?n("quill-editor",{model:{value:t.question.content[s],callback:function(e){t.$set(t.question.content,s,e)},expression:"question.content[index]"}}):"judges"===t.question.type&&"rightKey"===s?n("el-radio-group",{model:{value:t.question.content[s],callback:function(e){t.$set(t.question.content,s,e)},expression:"question.content[index]"}},t._l(t.judgeOptions,(function(t){return n("el-radio-button",{key:t,attrs:{label:t}})})),1):-1!==t.numberField.indexOf(s)?n("el-input",{attrs:{type:"number"},model:{value:t.question.content[s],callback:function(e){t.$set(t.question.content,s,t._n(e))},expression:"question.content[index]"}}):"essays"===t.question.type&&"rightKey"===s?n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:t.question.content[s],callback:function(e){t.$set(t.question.content,s,e)},expression:"question.content[index]"}}):n("el-input",{model:{value:t.question.content[s],callback:function(e){t.$set(t.question.content,s,e)},expression:"question.content[index]"}})],1)})),1):t._e(),t._v(" "),n("el-form-item",[t._v("\n      参考答案格式："),n("br"),t._v("\n      1. 答案的前后注意不要有空格"),n("br"),t._v("\n      2. 单选题请在输入框中输入唯一到正确答案，如：A"),n("br"),t._v("\n      3. 多选题请将答案依次写在输入框中，每个答案之间不要有空格或者他符号，如：ABCD"),n("br"),t._v("\n      4. 判断题请选择正确答案即可"),n("br"),t._v("\n      5. 填空题中，每个答案请用空格隔开，如：A B C"),n("br"),t._v("\n      6. 问答题只需将答案写在输入框中即可，没有特殊要求"),n("br")]),t._v(" "),t.questionInfo.type?t._e():n("el-form-item",[n("el-button",{attrs:{icon:"el-icon-finished",type:"primary"},on:{click:t.save}},[t._v("保存")]),t._v(" "),n("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:t.changeType}},[t._v("重置")])],1)],1)],1)},i=[],o=(n("6d57"),n("e10e"),n("9a33"),n("c904"),n("f548"),n("cc57"),n("b881")),r={components:{quillEditor:o["quillEditor"]},data:function(){return{questionContent:{},questionTypes:[],question:{type:"",title:"",content:{}},judgeOptions:[],fieldTip:{},useEditor:["content","A","B","C","D","E","F"],numberField:["score","spaceNumber"],rules:{type:[{required:!0,message:"请选择题目类型",tigger:"blur"}],title:[{required:!0,message:"请填写题目的标题，便于展示",tigger:"blur"}],"content.content":[{required:!0,message:"请填写题目内容",tigger:"blur"}],"content.score":[{required:!0,type:"number",message:"请填写该题分数",tigger:"blur"}],"content.A":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.B":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.C":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.D":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.E":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.F":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.spaceNumber":[{required:!0,type:"number",message:"请填写该填空题的空格数",tigger:"blur"}],"content.rightKey":[{required:!0,message:"请填写正确答案",tigger:"blur"}]},state:"",isSaved:!1,questionInfo:{type:"",content:{}},from:"本人编辑"}},created:function(){this.questionContent=JSON.parse(JSON.stringify(this.$store.getters.constant.question.content)),this.questionTypes=this.$store.getters.constant.question.types,this.question.type=this.questionTypes[0].type,this.question.content=JSON.parse(JSON.stringify(this.questionContent[this.question.type])),this.fieldTip=this.$store.getters.constant.question.fieldTip,this.judgeOptions=this.$store.getters.constant.judgeOptions},methods:{changeType:function(t){this.$refs["form"].resetFields(),this.question.content=JSON.parse(JSON.stringify(this.questionContent[this.question.type]))},save:function(){var t=this,e=!0;if(this.$refs["form"].validate((function(t){e=t})),!e)return this.$message.warning("请先将试题信息完善再进行提交！"),!1;this.question.content.state=this.$store.getters.constant.question.state.collection,this.question.content.from=this.from,this.question.content.auth=this.$store.getters.userInfo.name,this.question.title&&(this.question.content.title=this.question.title),"essays"===this.question.type&&(this.question.content.rightKey=this.question.content.rightKey.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")),-1!==["singles","multiples"].indexOf(this.question.type)&&(this.question.content.rightKey=this.question.content.rightKey.trim().split("").sort().join("").toLocaleUpperCase()),this.$store.dispatch("question/saveQuestion",this.question).then((function(e){t.$message.success(e.message),t.changeType()})).catch((function(){delete t.question.content.state}))},getQuestionInfo:function(){return this.isSaved=!0,"essays"===this.question.type&&(this.question.content.rightKey=this.question.content.rightKey.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")),-1!==["singles","multiples"].indexOf(this.question.type)&&(this.question.content.rightKey=this.question.content.rightKey.trim().split("").sort().join("").toLocaleUpperCase()),this.question.content},isNeedSave:function(){if(this.isSaved)return!1;for(var t=this.question.content,e=Object.keys(t),n=0;n<e.length;n++)if(t[e[n]])return!0;return!1},changeQuestionInfo:function(t){var e=this;this.isSaved=!1,this.$refs["form"].resetFields(),this.question.type=t.type,this.changeType(t),this.questionInfo=t;var n=Object.keys(this.question.content);n.map((function(n){e.question.content[n]=t.content[n]||""}))}}},u=r,c=(n("d5a6"),n("708f"),n("e90a")),a=Object(c["a"])(u,s,i,!1,null,"69a39a06",null);e["a"]=a.exports},"708f":function(t,e,n){"use strict";var s=n("af2b"),i=n.n(s);i.a},a2cd:function(t,e,n){"use strict";var s=n("238a");t.exports=function(t,e){return!!t&&s((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},af2b:function(t,e,n){},c904:function(t,e,n){"use strict";var s=n("e46b"),i=n("5daa"),o=n("008a"),r=n("238a"),u=[].sort,c=[1,2,3];s(s.P+s.F*(r((function(){c.sort(void 0)}))||!r((function(){c.sort(null)}))||!n("a2cd")(u)),"Array",{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},d5a6:function(t,e,n){"use strict";var s=n("2caf"),i=n.n(s);i.a}}]);