(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25ca24ad"],{5449:function(e,t,n){},5605:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addQuestion-box"},[n("el-form",{ref:"form",attrs:{model:e.question,rules:e.rules,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"题型"}},[n("el-select",{attrs:{placeholder:"请选择",disabled:""},on:{change:e.changeType},model:{value:e.question.type,callback:function(t){e.$set(e.question,"type",t)},expression:"question.type"}},e._l(e.questionTypes,(function(e){return n("el-option",{key:e.type,attrs:{label:e.name,value:e.type}})})),1)],1),e._v(" "),n("div",[n("el-form-item",{attrs:{label:"标题",prop:"title"}},[n("el-input",{attrs:{placeholder:"请求输入此题目的标题，用于在收藏列表中展示"},model:{value:e.question.title,callback:function(t){e.$set(e.question,"title",t)},expression:"question.title"}})],1)],1),e._v(" "),e.question.content?n("div",e._l(e.question.content,(function(t,i){return n("el-form-item",{key:i,attrs:{label:e.fieldTip[i],prop:"content."+i}},[-1!==e.useEditor.indexOf(i)?n("quill-editor",{model:{value:e.question.content[i],callback:function(t){e.$set(e.question.content,i,t)},expression:"question.content[index]"}}):"judges"===e.question.type&&"rightKey"===i?n("el-radio-group",{model:{value:e.question.content[i],callback:function(t){e.$set(e.question.content,i,t)},expression:"question.content[index]"}},e._l(e.judgeOptions,(function(e){return n("el-radio-button",{key:e,attrs:{label:e}})})),1):-1!==e.numberField.indexOf(i)?n("el-input",{attrs:{type:"number"},model:{value:e.question.content[i],callback:function(t){e.$set(e.question.content,i,e._n(t))},expression:"question.content[index]"}}):"essays"===e.question.type&&"rightKey"===i?n("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.question.content[i],callback:function(t){e.$set(e.question.content,i,t)},expression:"question.content[index]"}}):n("el-input",{model:{value:e.question.content[i],callback:function(t){e.$set(e.question.content,i,t)},expression:"question.content[index]"}})],1)})),1):e._e(),e._v(" "),n("el-form-item",[e._v("\n      参考答案格式："),n("br"),e._v("\n      1. 答案的前后注意不要有空格"),n("br"),e._v("\n      2. 单选题请在输入框中输入唯一到正确答案，如：A"),n("br"),e._v("\n      3. 多选题请将答案依次写在输入框中，每个答案之间不要有空格或者他符号，如：ABCD"),n("br"),e._v("\n      4. 判断题请选择正确答案即可"),n("br"),e._v("\n      5. 填空题中，每个答案请用空格隔开，如：A B C"),n("br"),e._v("\n      6. 问答题只需将答案写在输入框中即可，没有特殊要求"),n("br")]),e._v(" "),n("el-form-item",[n("el-button",{attrs:{icon:"el-icon-finished",type:"primary"},on:{click:e.save}},[e._v("保存")]),e._v(" "),n("el-button",{attrs:{icon:"el-icon-refresh-left"},on:{click:e.getQuestionData}},[e._v("重置")])],1)],1)],1)},s=[],o=(n("6d57"),n("e10e"),n("f548"),n("b881")),r={components:{quillEditor:o["quillEditor"]},data:function(){return{questionContent:{},questionTypes:[],question:{type:"",title:"",content:{}},judgeOptions:[],fieldTip:{},useEditor:["content","A","B","C","D","E","F"],numberField:["score","spaceNumber"],rules:{type:[{required:!0,message:"请选择题目类型",tigger:"blur"}],title:[{required:!0,message:"请填写题目的标题，便于展示",tigger:"blur"}],"content.content":[{required:!0,message:"请填写题目内容",tigger:"blur"}],"content.score":[{required:!0,type:"number",message:"请填写该题分数",tigger:"blur"}],"content.A":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.B":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.C":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.D":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.E":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.F":[{required:!0,message:"请填写该选项的内容",tigger:"blur"}],"content.spaceNumber":[{required:!0,type:"number",message:"请填写该填空题的空格数",tigger:"blur"}],"content.rightKey":[{required:!0,message:"请填写正确答案",tigger:"blur"}]},isSaved:!1,backUp:""}},created:function(){this.questionContent=JSON.parse(JSON.stringify(this.$store.getters.constant.question.content)),this.questionTypes=this.$store.getters.constant.question.types,this.question.type=this.$route.query.type||this.questionTypes[0].type,this.question.content=JSON.parse(JSON.stringify(this.questionContent[this.question.type])),this.fieldTip=this.$store.getters.constant.question.fieldTip,this.judgeOptions=this.$store.getters.constant.judgeOptions,this.getQuestionByQid()},methods:{changeType:function(e){this.$refs["form"].resetFields(),this.question.content=JSON.parse(JSON.stringify(this.questionContent[this.question.type]))},save:function(){var e=this,t=!0;if(this.$refs["form"].validate((function(e){t=e})),!t)return this.$message.warning("请先将试题信息完善再进行提交！"),!1;this.question.content.qid=this.backUp.qid,this.question.title&&(this.question.content.title=this.question.title),"essays"===this.question.type&&(this.question.content.rightKey=this.question.content.rightKey.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")),this.$store.dispatch("question/saveQuestion",this.question).then((function(t){e.$message.success(t.message),e.$store.commit("tagsView/DEL_VISITED_VIEW",e.$route),e.$router.go(-1)}))},getQuestionByQid:function(){var e=this,t={type:this.question.type,qid:this.$route.query.qid};this.$store.dispatch("question/getQuestionByQid",t).then((function(t){e.backUp=t.data,e.getQuestionData()}))},getQuestionData:function(){var e=this;this.changeType();var t=Object.keys(this.question.content);t.map((function(t){e.question.content[t]=e.backUp[t]})),this.question.title=this.backUp.title}}},u=r,c=(n("d131"),n("f86c"),n("e90a")),a=Object(c["a"])(u,i,s,!1,null,"580529c9",null);t["default"]=a.exports},c7a2:function(e,t,n){},d131:function(e,t,n){"use strict";var i=n("c7a2"),s=n.n(i);s.a},f86c:function(e,t,n){"use strict";var i=n("5449"),s=n.n(i);s.a}}]);